<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>d3入门与实战 | 缪运泽</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="&amp;lt;!-- toc --&amp;gt;

1. 什么是d3
2. 使用d3绘制简单的图形
3. 比例尺(Scale)
3.1. 线性比例尺
3.2. 序数比例尺


4. 坐标轴
5. 实战
5.1. 条线图
5.2. 散点图



&amp;lt;!-- tocstop --&amp;gt;">
<meta property="og:type" content="article">
<meta property="og:title" content="d3入门与实战">
<meta property="og:url" content="http://yoursite.com/2017/04/22/d3-study/index.html">
<meta property="og:site_name" content="缪运泽">
<meta property="og:description" content="&amp;lt;!-- toc --&amp;gt;

1. 什么是d3
2. 使用d3绘制简单的图形
3. 比例尺(Scale)
3.1. 线性比例尺
3.2. 序数比例尺


4. 坐标轴
5. 实战
5.1. 条线图
5.2. 散点图



&amp;lt;!-- tocstop --&amp;gt;">
<meta property="og:image" content="http://7xv88e.com1.z0.glb.clouddn.com/d3_simple_demo.PNG">
<meta property="og:image" content="http://7xv88e.com1.z0.glb.clouddn.com/d3_axis.PNG">
<meta property="og:image" content="http://7xv88e.com1.z0.glb.clouddn.com/d3_exe_1_bar_chart.PNG">
<meta property="og:image" content="http://7xv88e.com1.z0.glb.clouddn.com/d3_exe_2_scatterplot_graph.PNG">
<meta property="og:updated_time" content="2017-04-27T13:18:11.548Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="d3入门与实战">
<meta name="twitter:description" content="&amp;lt;!-- toc --&amp;gt;

1. 什么是d3
2. 使用d3绘制简单的图形
3. 比例尺(Scale)
3.1. 线性比例尺
3.2. 序数比例尺


4. 坐标轴
5. 实战
5.1. 条线图
5.2. 散点图



&amp;lt;!-- tocstop --&amp;gt;">
  
    <link rel="alternative" href="/atom.xml" title="缪运泽" type="application/atom+xml">
  
  
    <link href="/favicon.ico" rel="icon" type="image/x-ico">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">缪运泽</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">miaoyunze@foxmail.com</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-d3-study" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/22/d3-study/" class="article-date">
  <time datetime="2017-04-22T12:11:10.000Z" itemprop="datePublished">2017-04-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      d3入门与实战
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- toc -->
<ul>
<li><a href="#1-&#x4EC0;&#x4E48;&#x662F;d3">1. &#x4EC0;&#x4E48;&#x662F;d3</a></li>
<li><a href="#2-&#x4F7F;&#x7528;d3&#x7ED8;&#x5236;&#x7B80;&#x5355;&#x7684;&#x56FE;&#x5F62;">2. &#x4F7F;&#x7528;d3&#x7ED8;&#x5236;&#x7B80;&#x5355;&#x7684;&#x56FE;&#x5F62;</a></li>
<li><a href="#3-&#x6BD4;&#x4F8B;&#x5C3A;scale">3. &#x6BD4;&#x4F8B;&#x5C3A;(Scale)</a><ul>
<li><a href="#31-&#x7EBF;&#x6027;&#x6BD4;&#x4F8B;&#x5C3A;">3.1. &#x7EBF;&#x6027;&#x6BD4;&#x4F8B;&#x5C3A;</a></li>
<li><a href="#32-&#x5E8F;&#x6570;&#x6BD4;&#x4F8B;&#x5C3A;">3.2. &#x5E8F;&#x6570;&#x6BD4;&#x4F8B;&#x5C3A;</a></li>
</ul>
</li>
<li><a href="#4-&#x5750;&#x6807;&#x8F74;">4. &#x5750;&#x6807;&#x8F74;</a></li>
<li><a href="#5-&#x5B9E;&#x6218;">5. &#x5B9E;&#x6218;</a><ul>
<li><a href="#51-&#x6761;&#x7EBF;&#x56FE;">5.1. &#x6761;&#x7EBF;&#x56FE;</a></li>
<li><a href="#52-&#x6563;&#x70B9;&#x56FE;">5.2. &#x6563;&#x70B9;&#x56FE;</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<a id="more"></a>
<p><strong>&#x672C;&#x6587;&#x4EE3;&#x7801;&#x5747;&#x5DF2;&#x4E0A;&#x4F20;&#x81F3;<a href="https://github.com/alivebao/My_FCC/tree/master/Data%20Viz" target="_blank" rel="external">Github</a>&#xFF0C;&#x6587;&#x7AE0;&#x9996;&#x53D1;&#x4E8E;<a href="http://miaoyunze.com/2017/04/22/d3-study/" target="_blank" rel="external">d3&#x5165;&#x95E8;&#x4E0E;&#x5B9E;&#x6218;</a>&#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;</strong></p>
<h1 id="1-&#x4EC0;&#x4E48;&#x662F;d3">1. &#x4EC0;&#x4E48;&#x662F;d3</h1><p>d3&#x662F;&#x4E00;&#x79CD;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x53EF;&#x89C6;&#x5316;&#x7684;&#x5DE5;&#x5177;&#x3002;</p>
<h1 id="2-&#x4F7F;&#x7528;d3&#x7ED8;&#x5236;&#x7B80;&#x5355;&#x7684;&#x56FE;&#x5F62;">2. &#x4F7F;&#x7528;d3&#x7ED8;&#x5236;&#x7B80;&#x5355;&#x7684;&#x56FE;&#x5F62;</h1><p>d3.js&#x53EF;&#x4EE5;&#x5C06;html&#x4E2D;&#x7279;&#x5B9A;&#x7C7B;&#x578B;&#x7684;&#x5143;&#x7D20;&#x8F6C;&#x4E3A;&#x56FE;&#x5F62;&#xFF1A;<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">svg</span> <span class="attribute">height</span>=<span class="value">&quot;300&quot;</span> <span class="attribute">width</span>=<span class="value">&quot;300&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">rect</span> <span class="attribute">width</span>=<span class="value">&quot;10&quot;</span> <span class="attribute">height</span>=<span class="value">&quot;23&quot;</span> <span class="attribute">x</span>=<span class="value">&quot;0&quot;</span> <span class="attribute">y</span>=<span class="value">&quot;0&quot;</span>&gt;</span><span class="tag">&lt;/<span class="title">rect</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">rect</span> <span class="attribute">width</span>=<span class="value">&quot;20&quot;</span> <span class="attribute">height</span>=<span class="value">&quot;23&quot;</span> <span class="attribute">x</span>=<span class="value">&quot;0&quot;</span> <span class="attribute">y</span>=<span class="value">&quot;25&quot;</span>&gt;</span><span class="tag">&lt;/<span class="title">rect</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">rect</span> <span class="attribute">width</span>=<span class="value">&quot;30&quot;</span> <span class="attribute">height</span>=<span class="value">&quot;23&quot;</span> <span class="attribute">x</span>=<span class="value">&quot;0&quot;</span> <span class="attribute">y</span>=<span class="value">&quot;50&quot;</span>&gt;</span><span class="tag">&lt;/<span class="title">rect</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">svg</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>&#x5F15;&#x5165;d3.js&#xFF0C;&#x6253;&#x5F00;&#x8BE5;html&#xFF0C;&#x5F97;&#x5230;&#x56FE;&#x7247;:<br><img src="http://7xv88e.com1.z0.glb.clouddn.com/d3_simple_demo.PNG" alt="&#x7B80;&#x5355;&#x7684;&#x56FE;&#x5F62;"><br>d3.js&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x64CD;&#x4F5C;DOM&#xFF0C;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x5728;body&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;svg&#xFF0C;&#x5F97;&#x5230;&#x6548;&#x679C;&#x4E0E;&#x4E0A;&#x56FE;&#x4E00;&#x81F4;&#xFF1A;<br>html:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>js:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> dataArr = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>];</span><br><span class="line"><span class="keyword">var</span> dataHeight = <span class="number">25</span>;</span><br><span class="line"></span><br><span class="line">d3.select(<span class="string">&apos;body&apos;</span>)</span><br><span class="line">.append(<span class="string">&apos;svg&apos;</span>)</span><br><span class="line">.attr(<span class="string">&apos;height&apos;</span>, <span class="number">300</span>)</span><br><span class="line">.attr(<span class="string">&apos;width&apos;</span>, <span class="number">300</span>)</span><br><span class="line">.selectAll(<span class="string">&apos;rect&apos;</span>)</span><br><span class="line">.data(dataArr)</span><br><span class="line">.enter()</span><br><span class="line">.append(<span class="string">&apos;rect&apos;</span>)</span><br><span class="line">.attr(<span class="string">&apos;width&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">d, i</span>)</span>{</span><br><span class="line">    <span class="keyword">return</span> d</span><br><span class="line">})</span><br><span class="line">.attr(<span class="string">&apos;height&apos;</span>, dataHeight - <span class="number">2</span>)</span><br><span class="line">.attr(<span class="string">&apos;x&apos;</span>, <span class="number">0</span>)</span><br><span class="line">.attr(<span class="string">&apos;y&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">d, i</span>)</span>{</span><br><span class="line">    <span class="keyword">return</span> i * dataHeight</span><br><span class="line">})</span><br></pre></td></tr></table></figure></p>
<p>js&#x6267;&#x884C;&#x5B8C;&#x6210;&#x540E;&#x7684;html:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">svg</span> <span class="attribute">height</span>=<span class="value">&quot;300&quot;</span> <span class="attribute">width</span>=<span class="value">&quot;300&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">rect</span> <span class="attribute">width</span>=<span class="value">&quot;10&quot;</span> <span class="attribute">height</span>=<span class="value">&quot;23&quot;</span> <span class="attribute">x</span>=<span class="value">&quot;0&quot;</span> <span class="attribute">y</span>=<span class="value">&quot;0&quot;</span>&gt;</span><span class="tag">&lt;/<span class="title">rect</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">rect</span> <span class="attribute">width</span>=<span class="value">&quot;20&quot;</span> <span class="attribute">height</span>=<span class="value">&quot;23&quot;</span> <span class="attribute">x</span>=<span class="value">&quot;0&quot;</span> <span class="attribute">y</span>=<span class="value">&quot;25&quot;</span>&gt;</span><span class="tag">&lt;/<span class="title">rect</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">rect</span> <span class="attribute">width</span>=<span class="value">&quot;30&quot;</span> <span class="attribute">height</span>=<span class="value">&quot;23&quot;</span> <span class="attribute">x</span>=<span class="value">&quot;0&quot;</span> <span class="attribute">y</span>=<span class="value">&quot;50&quot;</span>&gt;</span><span class="tag">&lt;/<span class="title">rect</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">svg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>&#x9700;&#x8981;&#x638C;&#x63E1;&#x7684;&#x51FD;&#x6570;:</p>
<ul>
<li>select/selectAll(condition): &#x9009;&#x62E9;&#x5668;&#xFF0C;&#x9009;&#x62E9;&#x65B9;&#x6CD5;&#x4E0E;jQuery&#x4E00;&#x81F4;&#xFF0C; select&#x9009;&#x62E9;&#x6EE1;&#x8DB3;&#x9009;&#x62E9;&#x6761;&#x4EF6; condition &#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;selectAll&#x9009;&#x62E9;&#x6EE1;&#x8DB3;&#x9009;&#x62E9;&#x6761;&#x4EF6; condition &#x7684;&#x6240;&#x6709;&#x5143;&#x7D20;&#x3002;&#x672C;&#x4F8B;&#x901A;&#x8FC7;select&#x9009;&#x62E9;html&#x7684;body&#x5143;&#x7D20;</li>
<li>append(xxx): &#x5728;&#x9009;&#x4E2D;&#x5143;&#x7D20;&#x5185;&#x90E8;&#x7684;&#x672B;&#x5C3E;&#x5904;&#x6DFB;&#x52A0;&#x5143;&#x7D20;xxx&#x3002;&#x672C;&#x4F8B;&#x9009;&#x4E2D;body&#x540E;&#x5728;&#x5176;&#x5185;&#x90E8;&#x7684;&#x672B;&#x5C3E;&#x6DFB;&#x52A0;svg&#x5143;&#x7D20;</li>
<li>attr: &#x8BBE;&#x7F6E;&#x6837;&#x5F0F;</li>
<li>data&#xFF1A; &#x4E3A;&#x6240;&#x9009;&#x5143;&#x7D20;&#x96C6;&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x96C6;&#x3002;&#x672C;&#x4F8B;&#x4E3A;svg&#x4E2D;&#x7684;&#x6240;&#x6709;rect&#x6DFB;&#x52A0;&#x5BF9;&#x5E94;&#x5143;&#x7D20;&#x96C6;dataArr</li>
<li>enter: &#x4E3A;&#x6240;&#x9009;&#x5143;&#x7D20;&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x96C6;&#x65F6;&#xFF0C;&#x82E5;&#x5143;&#x7D20;&#x96C6;&#x6570;&#x91CF;&#x5C11;&#x4E8E;&#x6570;&#x636E;&#x96C6;&#xFF0C;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;&#x76F8;&#x5E94;&#x6570;&#x91CF;&#x7684;&#x5143;&#x7D20;&#x3002;&#x672C;&#x4F8B;&#x4E2D;selectAll(&#x2018;rect&#x2019;)&#x9009;&#x4E2D;&#x7684;rect&#x6570;&#x91CF;&#x5B9E;&#x9645;&#x4E3A;0&#xFF0C;&#x6267;&#x884C;&#x5B8C;enter&#x540E;&#x6DFB;&#x52A0;&#x4E86;3&#x4E2A;rect&#x3002;</li>
<li>attr&#x4E2D;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;function(d, i)&#xFF1A;d&#x4E3A;&#x6570;&#x636E;&#x96C6;&#x4E2D;&#x7684;&#x6570;&#x636E;data&#xFF0C;i&#x4E3A;&#x6570;&#x636E;&#x96C6;&#x4E2D;&#x8BE5;&#x6570;&#x636E;&#x7684;&#x4F4D;&#x7F6E;index</li>
</ul>
<h1 id="3-&#x6BD4;&#x4F8B;&#x5C3A;scale">3. &#x6BD4;&#x4F8B;&#x5C3A;(Scale)</h1><p>&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x4E86;&#x6570;&#x7EC4;dataset&#x4E2D;&#x7684;&#x503C;&#x8BBE;&#x7F6E;&#x4E86;&#x67F1;&#x72B6;&#x56FE;&#x7684;&#x5C3A;&#x5BF8;&#xFF0C;&#x4F46;&#x5927;&#x591A;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x9002;&#x5408;&#x5C06;&#x5176;&#x76F4;&#x4F5C;&#x4E3A;&#x56FE;&#x5F62;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x9700;&#x8981;&#x901A;&#x8FC7;<strong>&#x6BD4;&#x4F8B;&#x5C3A;</strong>&#x8FDB;&#x884C;&#x8F6C;&#x6362;&#x3002;<br>&#x6BD4;&#x4F8B;&#x5C3A;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x503C;(domain)&#x8FDB;&#x884C;&#x6620;&#x5C04;&#xFF0C;&#x628A;&#x4E00;&#x7EC4;&#x8F93;&#x5165;&#x7684;&#x503C;&#x6620;&#x5C04;&#x81F3;&#x4E00;&#x5B9A;&#x7684;&#x8F93;&#x51FA;&#x8303;&#x56F4;(range)&#x3002;<br>&#x5E38;&#x7528;&#x7684;&#x6BD4;&#x4F8B;&#x5C3A;&#x6709;&#x7EBF;&#x6027;&#x6BD4;&#x4F8B;&#x5C3A;&#x548C;&#x5E8F;&#x6570;&#x6BD4;&#x4F8B;&#x5C3A;&#x4E24;&#x79CD;&#x3002;</p>
<h2 id="31-&#x7EBF;&#x6027;&#x6BD4;&#x4F8B;&#x5C3A;">3.1. &#x7EBF;&#x6027;&#x6BD4;&#x4F8B;&#x5C3A;</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> dataSet = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">100</span>, <span class="number">30</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">var</span> min = d3.min(dataSet);</span><br><span class="line"><span class="keyword">var</span> max = d3.max(dataSet);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> linear = d3.scale.linear()</span><br><span class="line">	.domain([min, max])</span><br><span class="line">	.range([<span class="number">0</span>, <span class="number">300</span>]);</span><br><span class="line">	</span><br><span class="line"><span class="built_in">console</span>.log(linear(<span class="number">1</span>));		<span class="comment">//0</span></span><br><span class="line"><span class="built_in">console</span>.log(linear(<span class="number">2</span>));		<span class="comment">//3.03...</span></span><br><span class="line"><span class="built_in">console</span>.log(linear(<span class="number">100</span>));	<span class="comment">//300</span></span><br></pre></td></tr></table></figure>
<p>&#x9700;&#x8981;&#x638C;&#x63E1;&#x7684;&#x51FD;&#x6570;&#xFF1A;</p>
<ul>
<li>d3.scale.linear()&#xFF1A;&#x5EFA;&#x7ACB;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7EBF;&#x6027;&#x6BD4;&#x4F8B;&#x5C3A;</li>
<li>domain([x, y])&#xFF1A;&#x8BBE;&#x7F6E;&#x6BD4;&#x4F8B;&#x5C3A;&#x7684;&#x8F93;&#x5165;&#x8303;&#x56F4;</li>
<li>range([x, y])&#xFF1A;&#x8BBE;&#x7F6E;&#x6BD4;&#x4F8B;&#x5C3A;&#x7684;&#x8F93;&#x51FA;&#x8303;&#x56F4;<br>&#x901A;&#x8FC7;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x901A;&#x8FC7;&#x6BD4;&#x4F8B;&#x5C3A;&#x5B8C;&#x6210;&#x4E86;&#x6620;&#x5C04;&#xFF1A;([1, 100]) -&gt; ([0, 300])</li>
</ul>
<h2 id="32-&#x5E8F;&#x6570;&#x6BD4;&#x4F8B;&#x5C3A;">3.2. &#x5E8F;&#x6570;&#x6BD4;&#x4F8B;&#x5C3A;</h2><p>&#x7528;&#x4E8E;&#x79BB;&#x6563;&#x7684;&#x6620;&#x5C04;&#xFF0C;&#x901A;&#x8FC7;d3.scale.ordinal()&#x53EF;&#x4EE5;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x79BB;&#x6563;&#x7684;&#x6BD4;&#x4F8B;&#x5C3A;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xArr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> yArr = [<span class="string">&apos;a&apos;</span>, <span class="string">&apos;b&apos;</span>, <span class="string">&apos;c&apos;</span>, <span class="string">&apos;d&apos;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ordinal = d3.scale.ordinal()</span><br><span class="line">	.domain(xArr)</span><br><span class="line">	.range(yArr);</span><br><span class="line">	</span><br><span class="line"><span class="built_in">console</span>.log(ordinal(<span class="number">0</span>));	<span class="comment">//a</span></span><br><span class="line"><span class="built_in">console</span>.log(ordinal(<span class="number">1</span>));	<span class="comment">//b</span></span><br></pre></td></tr></table></figure></p>
<h1 id="4-&#x5750;&#x6807;&#x8F74;">4. &#x5750;&#x6807;&#x8F74;</h1><p>&#x5750;&#x6807;&#x8F74;&#x4E0E;&#x6BD4;&#x4F8B;&#x5C3A;&#x4E00;&#x540C;&#x4F7F;&#x7528;&#xFF0C;&#x901A;&#x8FC7;&#x8C03;&#x7528;d3.svg.axis()&#x5EFA;&#x7ACB;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> axis = d3.svg.axis()</span><br><span class="line">    .scale(linear)</span><br><span class="line">    .orient(<span class="string">&quot;bottom&quot;</span>)</span><br><span class="line">    .ticks(<span class="number">5</span>);</span><br></pre></td></tr></table></figure></p>
<ul>
<li>scale(): &#x8C03;&#x7528;&#x53C2;&#x6570;&#x4E3A;&#x6BD4;&#x4F8B;&#x5C3A;</li>
<li>orient: &#x6307;&#x5B9A;&#x5750;&#x6807;&#x8F74;&#x65B9;&#x5411;</li>
<li>ticks: &#x6307;&#x5B9A;&#x5750;&#x6807;&#x8F74;&#x7684;&#x523B;&#x5EA6;&#x6570;&#x91CF;</li>
</ul>
<p>&#x5B9A;&#x4E49;&#x597D;&#x5750;&#x6807;&#x8F74;&#x540E;&#xFF0C;&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x65B9;&#x5F0F;&#x5C06;&#x5750;&#x6807;&#x8F74;axis&#x5F15;&#x5165;&#x753B;&#x677F;(&#x4E3A;svg&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x5206;&#x7EC4;&#x5143;&#x7D20;g, &#x901A;&#x8FC7;axis(svg)&#x5C06;&#x5750;&#x6807;&#x8F74;&#x5F15;&#x5165;svg)&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> dataset = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> linear = d3.scale.linear()</span><br><span class="line">    .domain([<span class="number">0</span>, d3.max(dataset)])</span><br><span class="line">    .range([<span class="number">0</span>, <span class="number">250</span>]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> axis = d3.svg.axis()</span><br><span class="line">    .scale(linear)</span><br><span class="line">    .orient(<span class="string">&quot;bottom&quot;</span>)</span><br><span class="line">    .ticks(<span class="number">5</span>);</span><br><span class="line">	 </span><br><span class="line"><span class="keyword">var</span> svg = d3.select(<span class="string">&apos;body&apos;</span>)</span><br><span class="line">	.append(<span class="string">&apos;svg&apos;</span>)</span><br><span class="line">	.attr(<span class="string">&apos;height&apos;</span>, <span class="number">300</span>)</span><br><span class="line">	.attr(<span class="string">&apos;width&apos;</span>, <span class="number">300</span>)</span><br><span class="line">	.append(<span class="string">&quot;g&quot;</span>);</span><br><span class="line"></span><br><span class="line">axis(svg);</span><br></pre></td></tr></table></figure></p>
<p>&#x6548;&#x679C;&#x56FE;&#xFF1A;<br><img src="http://7xv88e.com1.z0.glb.clouddn.com/d3_axis.PNG" alt="&#x5750;&#x6807;&#x8F74;"><br>&#x901A;&#x5E38;&#x91C7;&#x7528;d3&#x4E2D;&#x7684;call(function)&#x5C06;&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x5199;&#x4E3A;&#x5982;&#x4E0B;&#x5F62;&#x5F0F;:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> svg = d3.select(<span class="string">&apos;body&apos;</span>)</span><br><span class="line">	.append(<span class="string">&apos;svg&apos;</span>)</span><br><span class="line">	.attr(<span class="string">&apos;height&apos;</span>, <span class="number">300</span>)</span><br><span class="line">	.attr(<span class="string">&apos;width&apos;</span>, <span class="number">300</span>)</span><br><span class="line">	.append(<span class="string">&quot;g&quot;</span>)</span><br><span class="line">	.call(axis);</span><br></pre></td></tr></table></figure></p>
<p>d3&#x4E2D;call()&#x7684;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x3002;&#x8C03;&#x7528;&#x4E4B;&#x540E;&#xFF0C;&#x5C06;&#x5F53;&#x524D;&#x7684;&#x9009;&#x62E9;&#x96C6;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7ED9;&#x8BE5;&#x51FD;&#x6570;&#x3002;<br>&#x9ED8;&#x8BA4;&#x5750;&#x6807;&#x8F74;&#x7684;&#x6837;&#x5F0F;&#x4E0D;&#x7F8E;&#x89C2;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;attr(xx, xx)&#x4FEE;&#x6539;&#x5750;&#x6807;&#x8F74;&#x7684;&#x6837;&#x5F0F;&#x3002;</p>
<h1 id="5-&#x5B9E;&#x6218;">5. &#x5B9E;&#x6218;</h1><h2 id="51-&#x6761;&#x7EBF;&#x56FE;">5.1. &#x6761;&#x7EBF;&#x56FE;</h2><p>&#x6839;&#x636E;&#x7ED9;&#x51FA;&#x7684;<a href="https://raw.githubusercontent.com/FreeCodeCamp/ProjectReferenceData/master/GDP-data.json" target="_blank" rel="external">&#x6570;&#x636E;&#x6E90;</a>&#x7ED8;&#x5236;&#x51FA;&#x6761;&#x7EBF;&#x56FE;&#x3002;<br>&#x8981;&#x6C42;&#xFF1A;</p>
<ul>
<li>&#x6839;&#x636E;&#x6570;&#x636E;&#x7ED8;&#x5236;&#x6761;&#x7EBF;&#x56FE;</li>
<li>&#x5F53;&#x9F20;&#x6807;hover&#x5728;&#x8868;&#x4E0A;&#x65F6;&#xFF0C;&#x663E;&#x793A;&#x5176;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;</li>
</ul>
<p>&#x6570;&#x636E;&#x6E90;&#xFF1A;<a href="https://raw.githubusercontent.com/FreeCodeCamp/ProjectReferenceData/master/GDP-data.json" target="_blank" rel="external">&#x6570;&#x636E;&#x6E90;</a><br>&#x6E90;&#x7801;&#xFF1A;<a href="https://github.com/alivebao/My_FCC/tree/master/Data%20Viz/Bar%20Chart" target="_blank" rel="external">Github&#x6E90;&#x7801;</a><br>&#x9884;&#x89C8;&#xFF1A;<a href="http://codepen.io/19920612/full/LxmjLd/" target="_blank" rel="external">&#x5728;&#x7EBF;&#x9884;&#x89C8;</a><br><img src="http://7xv88e.com1.z0.glb.clouddn.com/d3_exe_1_bar_chart.PNG" alt="&#x6548;&#x679C;&#x56FE;"><br>&#x601D;&#x8DEF;&#xFF1A;</p>
<ol>
<li><p>&#x5EFA;&#x7ACB;html:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">&quot;card&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">&quot;title&quot;</span>&gt;</span>Gross Domestic Product, USA<span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">svg</span> <span class="attribute">class</span>=<span class="value">&quot;chart&quot;</span>&gt;</span><span class="tag">&lt;/<span class="title">svg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">p</span>&gt;</span>Units: Billions of Dollars Seasonal Adjustment: Seasonally Adjusted Annual Rate Notes: A Guide to the National Income and Product Accounts of the United States (NIPA) - (http://www.bea.gov/national/pdf/nipaguid.pdf)<span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x8BBE;&#x7F6E;&#x57FA;&#x672C;&#x53C2;&#x6570;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> chartMargin = {</span><br><span class="line">  top: <span class="number">15</span>,</span><br><span class="line">  right: <span class="number">10</span>,</span><br><span class="line">  bottom: <span class="number">30</span>,</span><br><span class="line">  left: <span class="number">75</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">let</span> months = [<span class="string">&apos;January&apos;</span>, <span class="string">&apos;February&apos;</span>, <span class="string">&apos;March&apos;</span>, <span class="string">&apos;April&apos;</span>, <span class="string">&apos;May&apos;</span>, <span class="string">&apos;June&apos;</span>, <span class="string">&apos;July&apos;</span>, <span class="string">&apos;August&apos;</span>, <span class="string">&apos;September&apos;</span>, <span class="string">&apos;October&apos;</span>, <span class="string">&apos;November&apos;</span>, <span class="string">&apos;December&apos;</span>];</span><br><span class="line"><span class="keyword">let</span> width = $(<span class="string">&quot;.chart&quot;</span>).width() - chartMargin.left - chartMargin.right;</span><br><span class="line"><span class="keyword">let</span> height = $(<span class="string">&quot;.chart&quot;</span>).height() - chartMargin.bottom - chartMargin.top;</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x83B7;&#x53D6;x&#x3001;y&#x8F74;&#x6570;&#x636E;&#x6570;&#x636E;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$.getJSON(<span class="string">&quot;https://raw.githubusercontent.com/FreeCodeCamp/ProjectReferenceData/master/GDP-data.json&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">result</span>) </span>{</span><br><span class="line">  <span class="keyword">let</span> dataGDP = [];</span><br><span class="line">  <span class="keyword">let</span> dataTime = [];</span><br><span class="line">  $.each(result.data, <span class="function"><span class="keyword">function</span>(<span class="params">i, content</span>) </span>{</span><br><span class="line">    dataTime.push(content[<span class="number">0</span>]);</span><br><span class="line">    dataGDP.push(content[<span class="number">1</span>]);</span><br><span class="line">  })</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x8BBE;&#x7F6E;x&#x3001;y&#x8F74;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> xScale = d3.time.scale()	<span class="comment">//d3.time.scale()&#x662F;&#x9488;&#x5BF9;&#x65E5;&#x671F;&#x548C;&#x65F6;&#x95F4;&#x503C;&#x7684;&#x4E00;&#x4E2A;&#x6BD4;&#x4F8B;&#x5C3A;&#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;&#x65E5;&#x671F;&#x523B;&#x5EA6;&#x4F5C;&#x7279;&#x6B8A;&#x5904;&#x7406;</span></span><br><span class="line">  .domain([<span class="keyword">new</span> <span class="built_in">Date</span>(dataTime[<span class="number">0</span>]), <span class="keyword">new</span> <span class="built_in">Date</span>(dataTime[dataTime.length - <span class="number">1</span>])])</span><br><span class="line">  .range([<span class="number">0</span>, width]);</span><br><span class="line"><span class="keyword">let</span> xAxis = d3.svg.axis()</span><br><span class="line">  .scale(xScale)</span><br><span class="line">  .orient(<span class="string">&quot;bottom&quot;</span>)</span><br><span class="line">  .ticks(d3.time.years, <span class="number">5</span>);	<span class="comment">//&#x4EE5;&#x5E74;&#x4E3A;&#x5355;&#x4F4D;&#xFF0C;&#x6BCF;5&#x5E74;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x523B;&#x5EA6;</span></span><br><span class="line">                        </span><br><span class="line"><span class="keyword">let</span> yScale = d3.scale.linear()</span><br><span class="line">  .domain([<span class="number">0</span>, d3.max(dataGDP)])</span><br><span class="line">  .range([height, <span class="number">0</span>]);</span><br><span class="line"><span class="keyword">let</span> yAxis = d3.svg.axis()</span><br><span class="line">  .scale(yScale)</span><br><span class="line">  .orient(<span class="string">&quot;left&quot;</span>)</span><br><span class="line">  .ticks(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x5C06;&#x5750;&#x6807;&#x8F74;&#x6DFB;&#x52A0;&#x81F3;&#x56FE;&#x4E2D;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">svg.append(<span class="string">&quot;g&quot;</span>)</span><br><span class="line">  .attr(<span class="string">&quot;class&quot;</span>, <span class="string">&quot;axis&quot;</span>)</span><br><span class="line">  .attr(<span class="string">&quot;transform&quot;</span>,<span class="string">&quot;translate(&quot;</span> + chartMargin.left + <span class="string">&quot;,&quot;</span> + (chartMargin.top + height) + <span class="string">&quot;)&quot;</span>)</span><br><span class="line">  .call(xAxis)</span><br><span class="line">            </span><br><span class="line">svg.append(<span class="string">&quot;g&quot;</span>)</span><br><span class="line">  .attr(<span class="string">&quot;class&quot;</span>, <span class="string">&quot;axis&quot;</span>)</span><br><span class="line">  .attr(<span class="string">&quot;transform&quot;</span>,<span class="string">&quot;translate(&quot;</span> + chartMargin.left + <span class="string">&quot;,&quot;</span> + chartMargin.top + <span class="string">&quot;)&quot;</span>)</span><br><span class="line">  .call(yAxis)</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x7ED8;&#x5236;reminder card(&#x7528;&#x4E8E;&#x663E;&#x793A;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reminderCard = d3.select(<span class="string">&quot;.card&quot;</span>)</span><br><span class="line">  .append(<span class="string">&quot;div&quot;</span>)</span><br><span class="line">  .attr(<span class="string">&quot;class&quot;</span>, <span class="string">&quot;tooltip&quot;</span>)</span><br><span class="line">  .style(<span class="string">&quot;opacity&quot;</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x7ED8;&#x5236;chart</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> rects = svg.selectAll(<span class="string">&quot;.MyRect&quot;</span>)</span><br><span class="line">  .data(result.data)</span><br><span class="line">  .enter()</span><br><span class="line">  .append(<span class="string">&quot;rect&quot;</span>).attr(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;MyRect&quot;</span>)</span><br><span class="line">  .attr(<span class="string">&quot;transform&quot;</span>,<span class="string">&quot;translate(&quot;</span> + chartMargin.left + <span class="string">&quot;,&quot;</span> + chartMargin.top + <span class="string">&quot;)&quot;</span>)</span><br><span class="line">  .attr(<span class="string">&quot;x&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">d, i</span>)</span>{</span><br><span class="line">	<span class="keyword">return</span> xScale(<span class="keyword">new</span> <span class="built_in">Date</span>(d[<span class="number">0</span>]));</span><br><span class="line">  })</span><br><span class="line">  .attr(<span class="string">&quot;y&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">d</span>)</span>{</span><br><span class="line">	<span class="keyword">return</span> yScale(d[<span class="number">1</span>]);</span><br><span class="line">  })</span><br><span class="line">  .attr(<span class="string">&quot;width&quot;</span>, <span class="built_in">Math</span>.ceil(width / result.data.length))</span><br><span class="line">  .attr(<span class="string">&quot;height&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">d</span>)</span>{</span><br><span class="line">	<span class="keyword">return</span> height - yScale(d[<span class="number">1</span>]);</span><br><span class="line">  })</span><br><span class="line">  .attr(<span class="string">&quot;fill&quot;</span>,<span class="string">&quot;steelblue&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x6DFB;&#x52A0;&#x9F20;&#x6807;hover&#x663E;&#x793A;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x529F;&#x80FD;-&#x52A8;&#x753B;&#x6548;&#x679C;&#x4E0E;&#x76D1;&#x542C;&#x5668;<br>&#x901A;&#x8FC7;transition()&#x65B9;&#x5F0F;&#x4E3A;&#x56FE;&#x753B;&#x589E;&#x52A0;&#x52A8;&#x753B;&#x6548;&#x679C;<br>&#x901A;&#x8FC7;.on(xx, function(){&#x2026;})&#x589E;&#x52A0;&#x76D1;&#x542C;&#x5668;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">rects.on(<span class="string">&quot;mouseover&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">d</span>) </span>{</span><br><span class="line">  <span class="keyword">let</span> rect = d3.select(<span class="keyword">this</span>);</span><br><span class="line">  rect.attr(<span class="string">&quot;fill&quot;</span>, <span class="string">&quot;lightsteelblue&quot;</span>);</span><br><span class="line">  <span class="keyword">let</span> currentDateTime = <span class="keyword">new</span> <span class="built_in">Date</span>(d[<span class="number">0</span>]);</span><br><span class="line">  <span class="keyword">let</span> year = currentDateTime.getFullYear();</span><br><span class="line">  <span class="keyword">let</span> month = months[currentDateTime.getMonth()];</span><br><span class="line">  <span class="keyword">let</span> dollars = d[<span class="number">1</span>];</span><br><span class="line">  reminderCard.transition()</span><br><span class="line">	.duration(<span class="number">200</span>)</span><br><span class="line">	.style(<span class="string">&quot;opacity&quot;</span>, <span class="number">0.9</span>);</span><br><span class="line">  reminderCard.html(<span class="string">&quot;&lt;span class=&apos;amount&apos;&gt;&quot;</span></span><br><span class="line">	  + dollars + <span class="string">&quot;&amp;nbsp;Billion &lt;/span&gt;&lt;br&gt;&lt;span class=&apos;year&apos;&gt;&quot;</span></span><br><span class="line">	  + year + <span class="string">&apos; - &apos;</span> + month + <span class="string">&quot;&lt;/span&gt;&quot;</span>)</span><br><span class="line">	.style(<span class="string">&quot;left&quot;</span>, (d3.event.pageX + <span class="number">5</span>) + <span class="string">&quot;px&quot;</span>)</span><br><span class="line">	.style(<span class="string">&quot;top&quot;</span>, (d3.event.pageY - <span class="number">50</span>) + <span class="string">&quot;px&quot;</span>);</span><br><span class="line">  });</span><br><span class="line">rects.on(<span class="string">&quot;mouseout&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">let</span> rect = d3.select(<span class="keyword">this</span>);</span><br><span class="line">  rect.attr(<span class="string">&quot;fill&quot;</span>, <span class="string">&quot;steelblue&quot;</span>);</span><br><span class="line">  reminderCard.transition()</span><br><span class="line">	.duration(<span class="number">500</span>)</span><br><span class="line">	.style(<span class="string">&quot;opacity&quot;</span>, <span class="number">0</span>);</span><br><span class="line">});</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>&#x589E;&#x52A0;css:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.card</span><span class="rules">{</span><br><span class="line">    <span class="rule"><span class="attribute">text-align</span>:<span class="value"> center</span></span>;</span><br><span class="line">}</span></span><br><span class="line"><span class="class">.chart</span><span class="rules">{</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">80%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">80%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">min-height</span>:<span class="value"> <span class="number">500px</span></span></span>;</span><br><span class="line">}</span></span><br><span class="line"><span class="class">.axis</span> <span class="tag">path</span>,</span><br><span class="line"><span class="class">.axis</span> <span class="tag">line</span><span class="rules">{</span><br><span class="line">    <span class="rule"><span class="attribute">fill</span>:<span class="value"> none</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">stroke</span>:<span class="value"> black</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">shape-rendering</span>:<span class="value"> crispEdges</span></span>;</span><br><span class="line">}</span></span><br><span class="line"></span><br><span class="line"><span class="class">.axis</span> <span class="tag">text</span> <span class="rules">{</span><br><span class="line">    <span class="rule"><span class="attribute">font-family</span>:<span class="value"> sans-serif</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">11px</span></span></span>;</span><br><span class="line">}</span></span><br><span class="line"><span class="class">.tooltip</span> <span class="rules">{</span><br><span class="line">  <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">text-align</span>:<span class="value"> left</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"> auto</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> auto</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">3px</span> <span class="number">5px</span> <span class="number">3px</span> <span class="number">5px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">font</span>:<span class="value"> <span class="number">1em</span> sans-serif</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">0px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">5px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">pointer-events</span>:<span class="value"> none</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">box-shadow</span>:<span class="value"> <span class="number">3px</span> <span class="number">3px</span> <span class="number">6px</span> <span class="function">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>)</span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">background-color</span>:<span class="value"> lightsteelblue</span></span>;</span><br><span class="line">}</span></span><br></pre></td></tr></table></figure></p>
<h2 id="52-&#x6563;&#x70B9;&#x56FE;">5.2. &#x6563;&#x70B9;&#x56FE;</h2><p>&#x6839;&#x636E;&#x7ED9;&#x51FA;&#x7684;<a href="https://raw.githubusercontent.com/FreeCodeCamp/ProjectReferenceData/master/cyclist-data.json" target="_blank" rel="external">&#x6570;&#x636E;&#x6E90;</a>&#x7ED8;&#x5236;&#x51FA;&#x6563;&#x70B9;&#x56FE;&#x3002;<br>&#x8981;&#x6C42;&#xFF1A;</p>
<ul>
<li>&#x6839;&#x636E;&#x6570;&#x636E;&#x7ED8;&#x5236;&#x6563;&#x70B9;&#x56FE;</li>
<li>&#x5F53;&#x9F20;&#x6807;hover&#x5728;&#x6563;&#x70B9;&#x4E0A;&#x65F6;&#xFF0C;&#x663E;&#x793A;&#x5176;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;</li>
</ul>
<p>&#x6570;&#x636E;&#x6E90;&#xFF1A;<a href="https://raw.githubusercontent.com/FreeCodeCamp/ProjectReferenceData/master/cyclist-data.json" target="_blank" rel="external">&#x6570;&#x636E;&#x6E90;</a><br>&#x6E90;&#x7801;&#xFF1A;<a href="https://github.com/alivebao/My_FCC/tree/master/Data%20Viz/Scatterplot%20Graph" target="_blank" rel="external">Github&#x6E90;&#x7801;</a><br>&#x9884;&#x89C8;&#xFF1A;<a href="http://codepen.io/19920612/full/RKYBPX/" target="_blank" rel="external">&#x5728;&#x7EBF;&#x9884;&#x89C8;</a><br><img src="http://7xv88e.com1.z0.glb.clouddn.com/d3_exe_2_scatterplot_graph.PNG" alt="&#x6548;&#x679C;&#x56FE;"></p>
<p>&#x601D;&#x8DEF;&#xFF1A;<br>&#x5927;&#x81F4;&#x8FC7;&#x7A0B;&#x7C7B;&#x4F3C;&#x4E8E;&#x4E0A;&#x4E00;&#x9898;&#xFF0C;&#x533A;&#x522B;&#x5728;&#x4E8E;&#x5C06;append(&#x2018;rect&#x2019;)&#x53D8;&#x6210;&#x4E86;append(&#x2018;circle&#x2019;)&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">rects.append(<span class="string">&quot;circle&quot;</span>)	<span class="comment">//&#x6DFB;&#x52A0;&#x7684;&#x5143;&#x7D20;&#x6807;&#x7B7E;&#x4E3A;circle</span></span><br><span class="line">  .attr(<span class="string">&quot;cx&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">d, i</span>)</span>{	<span class="comment">//&#x8BBE;&#x7F6E;&#x6A2A;&#x5750;&#x6807;&#x4F4D;&#x7F6E;</span></span><br><span class="line">    ...</span><br><span class="line">  })</span><br><span class="line">  .attr(<span class="string">&quot;cy&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">d, i</span>)</span>{	<span class="comment">//&#x8BBE;&#x7F6E;&#x7EB5;&#x5750;&#x6807;&#x4F4D;&#x7F6E;</span></span><br><span class="line">    ...</span><br><span class="line">  })</span><br><span class="line">  .attr(<span class="string">&quot;r&quot;</span>, <span class="number">5</span>)		<span class="comment">//&#x8BBE;&#x7F6E;&#x5706;&#x7684;&#x534A;&#x5F84;</span></span><br><span class="line">  ...</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/22/d3-study/" data-id="cj2ag97mw000n1wwagel0aags" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Frontend/">Frontend</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/d3/">d3</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/04/25/es6-study/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          ES6重点小结
        
      </div>
    </a>
  
  
    <a href="/2017/03/11/React-Game-of-Life/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">React实现生命游戏</div>
    </a>
  
</nav>

  
</article>

 
  <section id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="post-d3-study" data-title="d3入门与实战" data-url="http://yoursite.com/2017/04/22/d3-study/"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
    <script type="text/javascript">
    var duoshuoQuery = {short_name:'alivebao'};
      (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
      </script>
    <!-- 多说公共JS代码 end -->
  </section>
  </section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-UI/">Android UI</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular/">Angular</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Frontend/">Frontend</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JAVA多线程/">JAVA多线程</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS/">JS</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/">SQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/d3/">d3</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android-UI/" style="font-size: 16.67px;">Android UI</a> <a href="/tags/Angular/" style="font-size: 10px;">Angular</a> <a href="/tags/Frontend/" style="font-size: 20px;">Frontend</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/JAVA多线程/" style="font-size: 13.33px;">JAVA多线程</a> <a href="/tags/JS/" style="font-size: 16.67px;">JS</a> <a href="/tags/React/" style="font-size: 13.33px;">React</a> <a href="/tags/SQL/" style="font-size: 10px;">SQL</a> <a href="/tags/d3/" style="font-size: 10px;">d3</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/05/04/network-status-check/">使用JS在浏览器中判断当前网络状态</a>
          </li>
        
          <li>
            <a href="/2017/04/25/es6-study/">ES6重点小结</a>
          </li>
        
          <li>
            <a href="/2017/04/22/d3-study/">d3入门与实战</a>
          </li>
        
          <li>
            <a href="/2017/03/11/React-Game-of-Life/">React实现生命游戏</a>
          </li>
        
          <li>
            <a href="/2017/03/04/chrome-autofill/">chrome input autofill 自动填充背景色问题</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>